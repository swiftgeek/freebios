arch i386
mainboardinit cpu/i386/entry16.inc
mainboardinit cpu/i386/entry32.inc
ldscript cpu/i386/entry16.lds
ldscript cpu/i386/entry32.lds
mainboardinit cpu/i386/reset16.inc
ldscript cpu/i386/reset16.lds

mainboardinit northbridge/amd/amd76x/reset_test.inc
mainboardinit cpu/k7/earlymtrr.inc
mainboardinit northbridge/amd/amd76x/mpinit.inc
#mainboardinit southbridge/amd/amd766/disable_watchdog.inc
mainboardinit southbridge/amd/amd766/lpc_com1.inc
mainboardinit superio/winbond/w83627hf/setup_serial.inc
mainboardinit pc80/serial.inc
mainboardinit arch/i386/lib/console.inc
#mainboardinit ram/ramtest.inc
#mainboardinit mainboard/tyan/guiness/do_ramtest.inc
mainboardinit southbridge/amd/amd766/smbus.inc
#mainboardinit sdram/generic_dump_spd.inc

mainboardinit mainboard/tyan/guiness/mainboard_raminit.inc
northbridge amd/amd76x
#mainboardinit mainboard/tyan/guiness/do_ramtest.inc
#mainboardinit cpu/k7/earlymtrr.inc
southbridge amd/amd766


nsuperio winbond/w83627hf com1={1} com2={0} floppy=1 lpt=1

option RAMTEST=1
option NO_KEYBOARD
option ENABLE_FIXED_AND_VARIABLE_MTRRS
#option FINAL_MAINBOARD_FIXUP


object mainboard.o
object mptable.o HAVE_MP_TABLE
#object irq_tables.o
#keyboard pc80
dir ../../../pc80

option AMD766_DEV=0x3800
# FIXME are the SMBUS DIMM locations documented anywhere? 
option SMBUS_MEM_DEVICE_START=(0xa << 3)
option SMBUS_MEM_DEVICE_END=(SMBUS_MEM_DEVICE_START +3)
option SMBUS_MEM_DEVICE_INC=1
option SIO_BASE=0x2e
option SMP=1
option IOAPIC=1
option MAX_CPUS=2
option HAVE_MP_TABLE=1
option USE_AMD_NDA_CODE=1
option FINAL_MAINBOARD_FIXUP=1
option HAVE_HARD_RESET=1
option STACK_SIZE=0x10000
option XIP_ROM_SIZE=0x8000
option XIP_ROM_BASE=0xffff8000
nooption MEMORY_HOLE

cpu p5
cpu p6
cpu k7
